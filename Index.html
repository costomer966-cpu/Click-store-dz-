<!doctype html>
<html lang="fr" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Click Store</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&amp;family=Cairo:wght@400;600;700&amp;display=swap" rel="stylesheet">
  <style>
    body { box-sizing: border-box; }
    .font-main { font-family: 'Poppins', sans-serif; }
    .font-arabic { font-family: 'Cairo', sans-serif; }
    [dir="rtl"] { font-family: 'Cairo', sans-serif; }
    .gradient-bg { background: linear-gradient(135deg, #0f0f23 0%, #1a1a3e 50%, #0d0d1f 100%); }
    .card-gradient { background: linear-gradient(145deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.02) 100%); }
    .glow-purple { box-shadow: 0 0 30px rgba(139, 92, 246, 0.3); }
    .price-tag { background: linear-gradient(135deg, #f97316 0%, #ea580c 100%); }
    .scrollbar-hide::-webkit-scrollbar { display: none; }
    .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
    /* ØªÙ†Ø³ÙŠÙ‚ Ø®Ø§Øµ Ù„Ù„Ø¹Ø±Ø¨ÙŠØ© Ù„Ù‚Ù„Ø¨ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø± */
    [dir="rtl"] .arrow-icon { transform: rotate(180deg); }
  </style>
</head>
<body class="h-full gradient-bg font-main text-white overflow-auto">
  <div id="app" class="min-h-full w-full">
   
   <header class="sticky top-0 z-50 backdrop-blur-xl bg-black/40 border-b border-white/10">
    <div class="max-w-7xl mx-auto px-4 py-3">
     <div class="flex items-center justify-between">
      <div class="flex items-center gap-3">
       <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-orange-500 flex items-center justify-center text-xl font-bold">C</div>
       <span id="header-store-name" class="text-xl font-bold bg-gradient-to-r from-purple-400 to-orange-400 bg-clip-text text-transparent">Click Store</span>
      </div>
      <div class="flex items-center gap-3">
       <select id="lang-select" class="appearance-none bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-sm cursor-pointer hover:bg-white/20 transition-all text-white">
         <option value="fr" class="bg-gray-900">ðŸ‡«ðŸ‡· FR</option>
         <option value="en" class="bg-gray-900">ðŸ‡¬ðŸ‡§ EN</option>
         <option value="ar" class="bg-gray-900">ðŸ‡©ðŸ‡¿ AR</option>
       </select>
       
       <button id="cart-btn" class="relative bg-white/10 hover:bg-white/20 border border-white/20 rounded-xl px-4 py-2 flex items-center gap-2 transition-all">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" /></svg>
        <span data-i18n="cart">Panier</span>
        <span id="cart-count" class="absolute -top-2 -right-2 w-6 h-6 bg-orange-500 rounded-full text-xs font-bold flex items-center justify-center">0</span>
       </button>
      </div>
     </div>
    </div>
   </header>

   <main id="main-content" class="max-w-7xl mx-auto px-4 py-6">
    <section class="text-center mb-10">
        <h1 class="text-3xl md:text-5xl font-extrabold mb-3" data-i18n="hero_title">Vos abonnements prÃ©fÃ©rÃ©s</h1>
        <p class="text-gray-400" data-i18n="hero_subtitle">Les meilleurs prix en AlgÃ©rie ðŸ‡©ðŸ‡¿</p>
    </section>
    
    <div id="categories-container" class="space-y-10">
      <section>
          <h2 class="text-2xl font-bold mb-5 flex items-center gap-2"><span class="text-3xl">ðŸŽ¬</span> <span data-i18n="cat_streaming">Streaming</span></h2>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="streaming-products"></div>
      </section>
      <section>
          <h2 class="text-2xl font-bold mb-5 flex items-center gap-2"><span class="text-3xl">ðŸ¤–</span> <span data-i18n="cat_ai">AI</span></h2>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="ai-products"></div>
      </section>
      <section>
          <h2 class="text-2xl font-bold mb-5 flex items-center gap-2"><span class="text-3xl">ðŸŽ®</span> <span data-i18n="cat_entertainment">Divertissement</span></h2>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="entertainment-products"></div>
      </section>
      <section>
          <h2 class="text-2xl font-bold mb-5 flex items-center gap-2"><span class="text-3xl">ðŸŽ¨</span> <span data-i18n="cat_design">Design</span></h2>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="design-products"></div>
      </section>
      <section>
          <h2 class="text-2xl font-bold mb-5 flex items-center gap-2"><span class="text-3xl">ðŸ“š</span> <span data-i18n="cat_education">Ã‰ducation</span></h2>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="education-products"></div>
      </section>
    </div>
   </main>

   <div id="checkout-modal" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" id="checkout-overlay"></div>
    <div class="absolute inset-4 md:inset-10 bg-gray-950 rounded-2xl border border-white/10 overflow-hidden flex flex-col">
     <div class="p-5 border-b border-white/10 flex items-center justify-between">
         <h2 class="text-xl font-bold italic" data-i18n="order_form">Formulaire de commande</h2>
         <button id="close-checkout" class="w-8 h-8 flex items-center justify-center rounded-full hover:bg-white/10">âœ–</button>
     </div>
     <div class="flex-1 overflow-auto p-5 space-y-6">
      <form id="order-form" class="space-y-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div><label class="text-xs text-gray-400 block mb-1" data-i18n="first_name">PrÃ©nom</label>
          <input type="text" name="first_name" required class="w-full bg-white/5 border border-white/20 rounded-lg p-3"></div>
          
          <div><label class="text-xs text-gray-400 block mb-1" data-i18n="last_name">Nom</label>
          <input type="text" name="last_name" required class="w-full bg-white/5 border border-white/20 rounded-lg p-3"></div>
          
          <div><label class="text-xs text-gray-400 block mb-1" data-i18n="email">Email</label>
          <input type="email" name="email" required class="w-full bg-white/5 border border-white/20 rounded-lg p-3"></div>
          
          <div><label class="text-xs text-gray-400 block mb-1" data-i18n="account_username">Compte / Username</label>
          <input type="text" name="account_username" required class="w-full bg-white/5 border border-white/20 rounded-lg p-3"></div>
        </div>

        <div class="grid grid-cols-2 gap-3">
          <label class="cursor-pointer">
            <input type="radio" name="payment" value="baridimob" required class="peer hidden" onchange="togglePayDetails(this.value)">
            <div class="p-4 border-2 border-white/10 rounded-xl peer-checked:border-purple-500 peer-checked:bg-purple-500/10 text-center font-bold">Baridimob</div>
          </label>
          <label class="cursor-pointer">
            <input type="radio" name="payment" value="flexy" class="peer hidden" onchange="togglePayDetails(this.value)">
            <div class="p-4 border-2 border-white/10 rounded-xl peer-checked:border-orange-500 peer-checked:bg-orange-500/10 text-center font-bold">Flexy</div>
          </label>
        </div>

        <div id="baridi-info" class="hidden card-gradient p-5 rounded-xl border border-white/10 space-y-4">
          <div class="flex justify-between items-center bg-black/40 p-3 rounded-lg border border-white/10">
            <span class="text-sm">RIP: <b>00799999002892667082</b></span>
            <button type="button" onclick="navigator.clipboard.writeText('00799999002892667082'); alert('RIP CopiÃ©!')" class="bg-purple-600 px-3 py-1 rounded text-xs" data-i18n="copy">Copier</button>
          </div>
          <label class="text-xs text-gray-400 block" data-i18n="upload_receipt">Uploader le reÃ§u</label>
          <input type="file" id="receipt-upload" accept="image/*" class="text-xs text-gray-500">
        </div>

        <div id="flexy-info" class="hidden text-center p-4 border border-orange-500/30 rounded-xl">
          <p class="text-sm italic" data-i18n="contact_insta">Contactez-nous sur Instagram</p>
          <a href="https://www.instagram.com/click_store.dz" target="_blank" class="text-orange-400 font-bold underline">Click_store.dz</a>
        </div>

        <div id="order-summary-items" class="space-y-2 border-t border-white/10 pt-4"></div>
        <div class="flex justify-between font-bold text-xl">
            <span data-i18n="total">Total</span>
            <span id="order-total" class="text-orange-400">0 DZD</span>
        </div>
      </form>
     </div>
     <div class="p-5 border-t border-white/10"><button id="submit-order" class="w-full bg-purple-600 py-4 rounded-xl font-bold shadow-lg" data-i18n="confirm_order">CONFIRMER âœ…</button></div>
    </div>
   </div>

   <div id="success-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center p-4">
    <div class="absolute inset-0 bg-black/90 backdrop-blur-sm"></div>
    <div class="relative bg-gray-900 border border-white/10 rounded-2xl p-8 text-center max-w-sm">
      <div class="text-6xl mb-4">âœ…</div>
      <h2 class="text-2xl font-bold mb-4" data-i18n="order_success">Commande EnvoyÃ©e!</h2>
      <button onclick="location.reload()" class="bg-purple-600 px-8 py-2 rounded-lg font-bold w-full" data-i18n="close">Fermer</button>
    </div>
   </div>
  </div>

  <script>
    // 1. ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù„ØºØ§Øª ÙˆØ§Ù„ØªØ±Ø¬Ù…Ø§Øª
    const translations = {
      fr: {
        cart: "Panier",
        hero_title: "Vos abonnements prÃ©fÃ©rÃ©s",
        hero_subtitle: "Les meilleurs prix en AlgÃ©rie ðŸ‡©ðŸ‡¿",
        cat_streaming: "Streaming",
        cat_ai: "Intelligence Artificielle",
        cat_entertainment: "Divertissement",
        cat_design: "Design",
        cat_education: "Ã‰ducation",
        total: "Total",
        order_form: "Formulaire de commande",
        first_name: "PrÃ©nom",
        last_name: "Nom",
        email: "Email",
        account_username: "Compte / Username",
        copy: "Copier",
        upload_receipt: "Uploader le reÃ§u",
        contact_insta: "Contactez-nous sur Instagram",
        confirm_order: "CONFIRMER âœ…",
        order_success: "Commande EnvoyÃ©e!",
        close: "Fermer",
        month: "Mois",
        year: "An",
        months: "Mois"
      },
      en: {
        cart: "Cart",
        hero_title: "Your Favorite Subscriptions",
        hero_subtitle: "Best prices in Algeria ðŸ‡©ðŸ‡¿",
        cat_streaming: "Streaming",
        cat_ai: "Artificial Intelligence",
        cat_entertainment: "Entertainment",
        cat_design: "Design",
        cat_education: "Education",
        total: "Total",
        order_form: "Order Form",
        first_name: "First Name",
        last_name: "Last Name",
        email: "Email",
        account_username: "Account / Username",
        copy: "Copy",
        upload_receipt: "Upload Receipt",
        contact_insta: "Contact us on Instagram",
        confirm_order: "CONFIRM âœ…",
        order_success: "Order Sent!",
        close: "Close",
        month: "Month",
        year: "Year",
        months: "Months"
      },
      ar: {
        cart: "Ø§Ù„Ø³Ù„Ø©",
        hero_title: "Ø§Ø´ØªØ±Ø§ÙƒØ§ØªÙƒ Ø§Ù„Ù…ÙØ¶Ù„Ø©",
        hero_subtitle: "Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙÙŠ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± ðŸ‡©ðŸ‡¿",
        cat_streaming: "Ø§Ù„Ø¨Ø« Ø§Ù„Ù…Ø¨Ø§Ø´Ø±",
        cat_ai: "Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ",
        cat_entertainment: "Ø§Ù„ØªØ±ÙÙŠÙ‡",
        cat_design: "Ø§Ù„ØªØµÙ…ÙŠÙ…",
        cat_education: "Ø§Ù„ØªØ¹Ù„ÙŠÙ…",
        total: "Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹",
        order_form: "Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø·Ù„Ø¨",
        first_name: "Ø§Ù„Ø§Ø³Ù…",
        last_name: "Ø§Ù„Ù„Ù‚Ø¨",
        email: "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",
        account_username: "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… / Ø§Ù„Ø­Ø³Ø§Ø¨",
        copy: "Ù†Ø³Ø®",
        upload_receipt: "Ø±ÙØ¹ Ø§Ù„ÙˆØµÙ„",
        contact_insta: "ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¹Ø¨Ø± Ø¥Ù†Ø³ØªØºØ±Ø§Ù…",
        confirm_order: "ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ âœ…",
        order_success: "ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨!",
        close: "Ø¥ØºÙ„Ø§Ù‚",
        month: "Ø´Ù‡Ø±",
        year: "Ø³Ù†Ø©",
        months: "Ø£Ø´Ù‡Ø±"
      }
    };

    let currentLang = 'fr';

    // Helper for Translations
    function t(key) {
      return translations[currentLang][key] || key;
    }

    // Helper for Duration Translation
    function formatDuration(d) {
        if (d === 12) return `1 ${t('year')}`;
        if (d === 1) return `1 ${t('month')}`;
        return `${d} ${t('months')}`;
    }

    // Products Data
    const products = {
      streaming: [
        { id: 'netflix', name: 'Netflix', icon: 'ðŸŽ¬', color: 'from-red-600 to-red-800', prices: [{d: 1, p: 800}, {d: 2, p: 1500}, {d: 3, p: 2200}] },
        { id: 'spotify', name: 'Spotify Premium', icon: 'ðŸŽµ', color: 'from-green-500 to-green-700', prices: [{d: 1, p: 800}, {d: 3, p: 1900}, {d: 6, p: 3400}, {d: 12, p: 5800}] },
        { id: 'prime', name: 'Prime Video', icon: 'ðŸ“º', color: 'from-blue-500 to-blue-700', prices: [{d: 1, p: 500}, {d: 3, p: 1300}, {d: 6, p: 1600}] }
      ],
      ai: [
        { id: 'chatgpt', name: 'ChatGPT Plus', icon: 'ðŸ¤–', color: 'from-emerald-500 to-teal-700', prices: [{d: 1, p: 800}] },
        { id: 'chatgptgo', name: 'ChatGPT Go', icon: 'âš¡', color: 'from-cyan-500 to-cyan-700', prices: [{d: 12, p: 2500}] },
        { id: 'perplexity', name: 'Perplexity Pro', icon: 'ðŸ”', color: 'from-indigo-500 to-indigo-700', prices: [{d: 12, p: 2400}] },
        { id: 'gemini', name: 'Gemini Advanced', icon: 'âœ¨', color: 'from-blue-400 to-purple-600', prices: [{d: 12, p: 1500}] }
      ],
      entertainment: [
        { id: 'crunchyroll', name: 'Crunchyroll', icon: 'ðŸ¥', color: 'from-orange-500 to-orange-700', prices: [{d: 1, p: 500}, {d: 3, p: 1200}, {d: 6, p: 1800}, {d: 12, p: 2400}] },
        { id: 'snapchat', name: 'Snapchat Plus', icon: 'ðŸ‘»', color: 'from-yellow-400 to-yellow-600', prices: [{d: 1, p: 800}, {d: 12, p: 3400}] },
        { id: 'shahid', name: 'Shahid VIP', icon: 'ðŸŽ­', color: 'from-purple-500 to-purple-700', prices: [{d: 1, p: 600}, {d: 12, p: 3900}] }
      ],
      design: [
        { id: 'adobe', name: 'Adobe CC', icon: 'ðŸŽ¨', color: 'from-red-500 to-pink-600', prices: [{d: 1, p: 1500}, {d: 3, p: 4000}, {d: 6, p: 6900}, {d: 12, p: 9800}] },
        { id: 'capcut', name: 'CapCut Pro', icon: 'âœ‚ï¸', color: 'from-slate-600 to-slate-800', prices: [{d: 1, p: 1000}] },
        { id: 'canva', name: 'Canva Pro', icon: 'ðŸ–Œï¸', color: 'from-cyan-500 to-blue-600', prices: [{d: 12, p: 500}] }
      ],
      education: [
        { id: 'duolingo', name: 'Duolingo', icon: 'ðŸ¦‰', color: 'from-lime-500 to-green-600', prices: [{d: 12, p: 500}] }
      ]
    };

    let cart = [];

    // Main Render Function
    function renderProducts() {
      Object.keys(products).forEach(cat => {
        const container = document.getElementById(`${cat}-products`);
        if (container) {
          container.innerHTML = products[cat].map(p => `
            <div class="product-card card-gradient rounded-2xl border border-white/10 overflow-hidden transition-all hover:border-purple-500/50">
              <div class="bg-gradient-to-br ${p.color} p-5 font-bold flex items-center gap-3">
                <span class="text-3xl">${p.icon}</span>${p.name}
              </div>
              <div class="p-4 space-y-2">
                ${p.prices.map(pr => `
                  <div class="flex justify-between items-center bg-white/5 p-3 rounded-xl hover:bg-white/10 transition-all">
                    <span class="text-sm italic">${formatDuration(pr.d)}</span>
                    <div class="flex items-center gap-3">
                      <span class="price-tag px-3 py-1 rounded-lg text-sm font-bold">${pr.p} DZD</span>
                      <button onclick="addToCart('${p.id}', '${p.name}', ${pr.d}, ${pr.p})" class="bg-purple-500 w-8 h-8 rounded-full font-bold flex items-center justify-center">+</button>
                    </div>
                  </div>`).join('')}
              </div>
            </div>`).join('');
        }
      });
    }

    // Language Updater
    function updateLanguage() {
        const select = document.getElementById('lang-select');
        currentLang = select.value;
        
        // Update RTL/LTR
        document.documentElement.dir = currentLang === 'ar' ? 'rtl' : 'ltr';
        document.body.style.fontFamily = currentLang === 'ar' ? "'Cairo', sans-serif" : "'Poppins', sans-serif";

        // Update Static Text
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            if(translations[currentLang][key]) {
                el.innerText = translations[currentLang][key];
            }
        });

        // Re-render Dynamic Components
        renderProducts();
        updateCartUI();
    }

    // Event Listener for Language Change
    document.getElementById('lang-select').addEventListener('change', updateLanguage);

    function addToCart(id, name, duration, price) {
      cart.push({ id, name, duration, price });
      updateCartUI();
      document.getElementById('checkout-modal').classList.remove('hidden');
    }

    function updateCartUI() {
      document.getElementById('cart-count').textContent = cart.length;
      const total = cart.reduce((s, i) => s + i.price, 0);
      document.getElementById('order-total').textContent = `${total} DZD`;
      
      const summaryHTML = cart.map((item, idx) => `
        <div class="flex justify-between text-sm text-gray-400 mb-2">
          <span>${item.name} (${formatDuration(item.duration)})</span>
          <div class="flex gap-4"><span>${item.price} DZD</span><button onclick="cart.splice(${idx},1);updateCartUI()" class="text-red-500 font-bold">âœ–</button></div>
        </div>`).join('');
        
      document.getElementById('order-summary-items').innerHTML = summaryHTML;
    }

    function togglePayDetails(val) {
      document.getElementById('baridi-info').classList.toggle('hidden', val !== 'baridimob');
      document.getElementById('flexy-info').classList.toggle('hidden', val !== 'flexy');
    }

    async function finalSubmit(e) {
      e.preventDefault();
      const form = document.getElementById('order-form');
      const fd = new FormData(form);
      const data = Object.fromEntries(fd.entries());
      const receipt = document.getElementById('receipt-upload').files[0];

      if (data.payment === 'baridimob' && !receipt) return alert("Veuillez uploader le reÃ§u / ÙŠØ±Ø¬Ù‰ Ø±ÙØ¹ Ø§Ù„ÙˆØµÙ„");
      if (!data.first_name || !data.email) return alert("Champs obligatoires / ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø§Ù„Ø®Ø§Ù†Ø§Øª");

      const items = cart.map(i => `â€¢ ${i.name} (${formatDuration(i.duration)})`).join('\n');
      const total = cart.reduce((s, i) => s + i.price, 0);
      
      const msg = `ðŸ›’ *CLICK STORE ORDER*
ðŸ‘¤ Client: ${data.first_name} ${data.last_name}
ðŸ“§ Email: ${data.email}
ðŸ” Compte: ${data.account_username}
ðŸ“¦ Items:
${items}
ðŸ’° Total: ${total} DZD
ðŸ’³ Paiement: ${data.payment.toUpperCase()}`;

      try {
        await navigator.clipboard.writeText(msg);
        alert(currentLang === 'ar' ? "ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª! Ø§Ù„ØµÙ‚Ù‡Ø§ ÙÙŠ Ø¥Ù†Ø³ØªØºØ±Ø§Ù…" : "Infos copiÃ©es! Collez dans Instagram.");
      } catch(e) {}

      window.open("https://www.instagram.com/click_store.dz", '_blank');
      document.getElementById('checkout-modal').classList.add('hidden');
      document.getElementById('success-modal').classList.remove('hidden');
    }

    // Event Listeners
    document.getElementById('submit-order').addEventListener('click', finalSubmit);
    document.getElementById('close-checkout').onclick = () => document.getElementById('checkout-modal').classList.add('hidden');
    document.getElementById('cart-btn').onclick = () => document.getElementById('checkout-modal').classList.remove('hidden');

    // Initial Render
    renderProducts();
  </script>
</body>
</html>
